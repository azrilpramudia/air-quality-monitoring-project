generator client {
  provider = "prisma-client-js"
}

datasource db {
  provider = "mysql"
  url      = env("DATABASE_URL")
}

model Actual {
  id          Int      @id @default(autoincrement())
  ts          DateTime
  deviceId    String
  temperature Float
  humidity    Float
  tvoc        Int
  eco2        Int
  dust        Float
  aqi         Float?
  createdAt   DateTime @default(now())

  predictions Prediction[]
}

model Prediction {
  id           Int      @id @default(autoincrement())
  actualId     Int
  actual       Actual  @relation(fields: [actualId], references: [id])

  createdAt    DateTime @default(now())
  timestamp    DateTime
  temp_c       Float
  rh_pct       Float
  tvoc_ppb     Float
  eco2_ppm     Float
  dust_ugm3    Float
  featuresJson Json
  forecastJson Json
  modelVersion String
}


